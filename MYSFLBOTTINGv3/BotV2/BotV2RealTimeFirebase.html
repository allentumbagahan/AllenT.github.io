<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
        loadData = ""
        ConfigOneTime = 0
        ConfigDB()
        async function ConfigDB(){
            const firebaseConfig = {
                apiKey: "AIzaSyBC6W49ilLK5mWHsP2MXKyiIjmLyRGkFiQ",
                authDomain: "allentumbagahan-9610f.firebaseapp.com",
                databaseURL: "https://allentumbagahan-9610f-default-rtdb.firebaseio.com",
                projectId: "allentumbagahan-9610f",
                storageBucket: "allentumbagahan-9610f.appspot.com",
                messagingSenderId: "702145349166",
                appId: "1:702145349166:web:5ca10176bf764ad6cd41bf",
                measurementId: "G-NRS398L5KQ"
              };
              const checkfirebase = new Promise((res, err) => {
                  if('firebase' in window){
                      res(true)
                  }
              })
              const inzApp = new Promise ((res, err) => {
                  if('firestore' in firebase){
                      res(true)
                  }
              })
              if (ConfigOneTime == 0){
                if (await checkfirebase){
                    console.log("initializing firebase")
                            // Initialize Firebase
                    firebase.initializeApp(firebaseConfig)
                    ConfigOneTime++
                }
    
            }
            
            if (await inzApp){
                // Initialize Cloud Firestore and get a reference to the service
                console.log("initializing Cloud Firestore")
                db = firebase.firestore();
            }
              
            
        }
        function snapData(id){
        db.collection("Accounts").doc(`${id}`)
        .onSnapshot((doc) => {
            if(doc.exists){
                loadData = doc.data()
                console.log(loadData)
            }
        });
        }
    </script>
</body>
</html>